/* OtpPopup.module.css â€” solid modal style (no transparent page overlay) */

/* Overlay: solid but slightly tinted to create contrast */
.popupOverlay {
  position: fixed;
  inset: 0;
  background: var(--color-bg);           /* solid page-color backdrop */
  z-index: 1200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

/* Dim layer on top of solid bg to separate modal (not transparent page) */
.popupOverlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.08)); /* subtle darkening */
  pointer-events: none;
}

/* Modal card */
.popupBox {
  position: relative;
  z-index: 1210;
  width: min(520px, 96%);
  max-width: 560px;
  background: linear-gradient(180deg, var(--color-bg-surface), var(--color-inset));
  border: 1px solid var(--color-border-strong);
  border-radius: 14px;
  padding: 22px;
  box-shadow: 0 18px 40px hsla(220 18% 8% / 0.55);
  display: flex;
  flex-direction: column;
  gap: 16px;
  align-items: center;
  transform-origin: center;
  animation: modalIn 340ms cubic-bezier(.2,.9,.3,1);
}

/* Entrance */
@keyframes modalIn {
  from { transform: translateY(12px) scale(0.995); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

/* Title */
.popupTitle {
  margin: 0;
  font-size: 1.15rem;
  font-weight: 800;
  color: var(--color-text);
  letter-spacing: -0.2px;
}

/* Subtext */
.popupSub {
  font-size: 0.92rem;
  color: var(--color-text-muted);
  text-align: center;
  margin: 0;
  max-width: 88%;
}

/* OTP inputs container */
.otpInputs {
  width: 100%;
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-top: 2px;
}

/* Individual OTP box */
.otpBox {
  width: 56px;
  height: 56px;
  border-radius: 10px;
  text-align: center;
  font-size: 1.25rem;
  font-weight: 800;
  color: var(--color-text);
  background: var(--color-bg); /* contrast with card */
  border: 1px solid var(--color-border);
  box-shadow: 0 8px 18px hsla(220 16% 8% / 0.06);
  transition: transform 160ms var(--theme-transition), border-color 160ms var(--theme-transition), box-shadow 160ms var(--theme-transition);
  caret-color: transparent;
  outline: none;
}

/* Focused OTP input */
.otpBox:focus {
  transform: translateY(-4px);
  border-color: var(--color-primary);
  box-shadow: 0 12px 28px hsla(var(--color-primary-h) 80% 40% / 0.12);
  caret-color: var(--color-primary);
}

/* Adjust size for small screens */
@media (max-width: 520px) {
  .otpBox { width: 44px; height: 44px; font-size: 1.05rem; }
  .popupBox { padding: 18px; border-radius: 12px; }
}

/* Primary verify button */
.otpSubmit {
  width: 100%;
  max-width: 340px;
  padding: 12px 14px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 800;
  background: linear-gradient(180deg, var(--color-primary-med), var(--color-primary));
  color: hsl(0 0% 100%);
  box-shadow: 0 12px 36px hsla(var(--color-primary-h) 80% 40% / 0.14);
  transition: transform 160ms var(--theme-transition), box-shadow 160ms var(--theme-transition);
}
.otpSubmit:hover { transform: translateY(-3px); }
.otpSubmit:active { transform: translateY(-1px); }

/* Resend row */
.resendSection {
  width: 100%;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: center;
  font-size: 0.92rem;
  color: var(--color-text-muted);
}

/* Resend button states */
.resendBtn {
  border: none;
  background: transparent;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 700;
  color: var(--color-primary);
  transition: transform 140ms var(--theme-transition), opacity 140ms var(--theme-transition);
}
.resendBtn:disabled {
  color: var(--color-text-muted);
  cursor: not-allowed;
  opacity: 0.6;
}
.resendBtn:not(:disabled):hover { transform: translateY(-2px); }

/* Timer style */
.timer {
  font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
  font-size: 0.9rem;
  color: var(--color-text-muted);
}

/* Error message below popup */
.errorMsg {
  color: var(--color-danger);
  font-size: 0.9rem;
  min-height: 20px;
  text-align: center;
}

/* Close button (optional if you have one) */
.closeBtn {
  position: absolute;
  top: 12px;
  right: 12px;
  border: none;
  background: transparent;
  cursor: pointer;
  padding: 6px;
  border-radius: 8px;
  color: var(--color-text-muted);
  transition: background 140ms var(--theme-transition), color 140ms var(--theme-transition);
}
.closeBtn:hover { background: rgba(0,0,0,0.04); color: var(--color-text); }

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .popupBox { animation: none !important; }
  .otpBox, .otpSubmit, .resendBtn { transition: none !important; }
}
